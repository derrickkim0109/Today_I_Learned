<h1><center> MVVM </center></h1>

###### tags: `💻 TIL`, `MVVM`
###### date: `2024-01-30T15:12:33.284Z`

> [color=#724cd1][name=데릭]

> [참고 - iOS Architecture](https://github.com/protocorn93/iOS-Architecture)

# 개요 

> MVVM에 대해 생각해보는 시간을 가지자.

## MVVM

MVVM은 Model, ViewModel, View로 객체를 구분지어서 개발하는 디자인 패턴입니다. View는 오직 시각적인 요소로만 이루어져 있어야 한다. View는 레이아웃, 애니메이션 그리고 UI 요소들에 대한 초기화 작업 코드들만이 위치하게 된다. 그리고 MVVM에서 ViewModel은 View와 Model 사이에 위치하게 된다. ViewModel은 View의 각 UI요소들에 대한 인터페이스를 제공한다. 

**NOTE**

> ViewModel이 View의 각 UI 요소에 대한 인터페이스를 제공한다는 것은, ViewModel이 View와 상호작용하는 데 사용되는 메서드, 프로퍼티를 정의하고 제공한다는 의미이다. 이로써, ViewModel과 View 간의 효율적인 통신과 분리가 가능해진다.

> 바인딩(Binding): View의 UI요소들과 ViewModel의 인터페이스를 연결시키는 작업을 말한다. 

1. 데이터 바인딩과 양방향 통신: 
- Viewmodel은 데이터를 가지고 있고, 이 데이터를 View에서 표시한다.
- Viewmodel이 View에 데이터를 제공하면, 데이터 바인딩을 통해 View는 자동으로 업데이트 된다.
- 반대로 사용자가 어떤 액션을 취하면, ViewModel은 해당 이벤트를 감지하고 데이터를 업데이트한다. 

2. UI 로직 분리
- ViewModel은 UI의 특정 로직과 동작을 담당한다. 예를 들어, 사용자 입력에 따른 유효성 검사, 데이터 포맷 변환 등의 작업을 처리한다. 
- View는 이러한 로직을 직접 다루지 않고, ViewModel에게 위임하여 업데이트된 데이터를 받아 View를 갱신한다. 

3. 테스트 용이성
- ViewModel이 View와 인터페이스를 통해 통신하면, 테스트 코드에서도 이 인터페이스를 사용하여 ViewModel의 동작을 테스트하기 용이해진다. 
- View와 ViewModel이 명확한 관계를 가지고 상호작용하므로, 테스트 코드를 작성하기 쉽고 일관된 코드를 만들 수 있다.

### Model

- 데이터와 비지니스 로직을 담당(구현체 부분)
- ViewModel로부터 받은 데이터 업데이트 요청을 수행하고, 데이터의 유효성을 검사한다.
- 데이터의 일관성과 유효성을 유지하기 위해 필요한 검사 및 업데이트 로직을 구현한다.
- 변경된 데이터를 감지하고, 필요한 경우 이를 ViewModel에게 알려 업데이트된 데이터를 전달한다. 

> 위에서 말한대로 ViewModel은 주로 사용자 인터페이스와의 상호작용 및 UI로직을 처리하고, Model은 데이터의 상태와 비지니스 로직을 관리한다. 

### View

- 사용자에게 보여지는 부분으로, UI Components를 담당
- 사용자의 입력을 받아 ViewModel에 전달하고, ViewModel에서 업데이트된 데이터를 반영하여 View를 갱신한다.
- UI에 관련된 로직만 다루며, 비지니스 로직은 처리하지 않는다. 

### ViewModel

- 사용자 인터페이스의 상태와 동작을 관리하는 부분으로, Model과 View 간의 중간 역할을 한다. 
- View로부터 받은 사용자 입력을 해석하고, 필요한 비지니스 로직을 수행하여 Model의 데이터를 업데이트 한다. 
- View에 표시할 데이터를 가공하여 제공하며, View에서 발생한 이벤트를 Model에 전달합니다.
- 주로 양방향 데이터 바인딩을 통해 View와 Model 사이의 의존성을 낮추고 독립성을 강화시킵니다. 

## MVVM의 이점

- 모듈화와 유지보수: 각 객체가 명확한 역할을 수행하므로 코드의 모듈화에 용이하고, 유지보수를 간편하게 할 수 있습니다. 
- 테스트 용이성: ViewModel은 비지니스 로직을 포함하므로, 테스트가 쉬우면 테스트 커버리지를 높일 수 있습니다. 