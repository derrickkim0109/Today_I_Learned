<h1><center>Class </center></h1>

###### tags: `ðŸ’» ë©´ì ‘ ìŠ¤í„°ë””`
> [color=#724cd1][name=ë°ë¦­]

## Classì˜ ì„±ëŠ¥ì„ í–¥ìƒ ì‹œí‚¬ìˆ˜ ìžˆëŠ” ë°©ë²•ì„ ë‚˜ì—´í•´ë³´ì‹œì˜¤.

- [ì°¸ê³ ](https://jcsoohwancho.github.io/2019-10-11-Dynamic-Dispatch%EC%99%80-%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94/)
- [Increasing Performance by Reducing Dynamic Dispatch](https://developer.apple.com/swift/blog/?id=27)


```swift 
class Parent {
    func someMethod() { 
        //... 
    }
}

class Child: Parent {
    override func someMethod() {
        // ...
    }
}


let object: Parent = Child()

object.someMethod() // Parentì˜ someMethodë¥¼ í˜¸ì¶œí•  ê²ƒì¸ê°€, Childì˜ someMethodë¥¼ í˜¸ì¶œí•  ê²ƒì¸ê°€?
```

1) Static Dispatch(Direct Call): ë³€ìˆ˜ì˜ ëª…ëª©ìƒ íƒ€ìž…ì— ë§žì¶°ì„œ ë©”ì„œë“œì™€ í”„ë¡œí¼í‹°ë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤. ì´ ê²½ìš° ì°¸ì¡°ë  ìš”ì†Œë¥¼ ì»´íŒŒì¼ íƒ€ìž„ì— ê²°ì •í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ìœ„ì˜ ì˜ˆì œì—ì„œ Parentì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²½ìš°ê°€ ì´ì— í•´ë‹¹í•©ë‹ˆë‹¤. ì»´íŒŒì¼ íƒ€ìž„ì— ê²°ì •ì´ ëë‚˜ê¸° ë•Œë¬¸ì— ì„±ëŠ¥ìƒì˜ ì´ì ì´ ìžˆìœ¼ë‚˜, ìžì‹ í´ëž˜ìŠ¤ì˜ ìš”ì†Œë¥¼ í˜¸ì¶œí•˜ê³  ì‹¶ìœ¼ë©´ ëª…ì‹œì ì¸ íƒ€ìž… ìºìŠ¤íŒ…ìœ¼ë¡œ ë³€ìˆ˜ë¥¼ ìžì‹ íƒ€ìž…ìœ¼ë¡œ ë§Œë“¤ì–´ì¤˜ì•¼ í•œë‹¤. ë”°ë¼ì„œ í”„ë¡œê·¸ëž¨ì´ ë‹¤í˜•ì„±ì„ í™œìš©í•˜ê¸° ì–´ë µê²Œ ë§Œë“œëŠ” ë‹¨ì ì´ ìžˆë‹¤.

2) Dynamic Dispatch(Indirect Call): ë³€ìˆ˜ì˜ ì‹¤ì œ íƒ€ìž…ì— ë§žì¶° ë©”ì„œë“œì™€ í”„ë¡œí¼í‹°ë¥¼ í˜¸ì¶œí•œë‹¤. ì½”ë“œìƒìœ¼ë¡œëŠ” ì´ê²ƒì´ ë“œëŸ¬ë‚˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì‹¤ì œ ì°¸ì¡°ë  ìš”ì†ŒëŠ” ëŸ°íƒ€ìž„ì— ê²°ì •ëœë‹¤. ì–´ë–¤ ì„œë¸Œí´ëž˜ìŠ¤ê°€ ë“¤ì–´ì™€ë„ ì‹¤ì œ íƒ€ìž…ì— ë§žëŠ” ìš”ì†Œë¥¼ ì°¸ì¡°í•˜ê¸° ë•Œë¬¸ì— ë‹¤í˜•ì„± í™œìš©ì— ìœ ë¦¬í•˜ë‹¤. ë‹¤ë§Œ, ëŸ°íƒ€ìž„ì— ì‹¤ì œ ì°¸ì¡°í•  ìš”ì†Œë¥¼ ì°¾ëŠ” ê³¼ì •ì´ ìžˆê¸° ë•Œë¬¸ì—(ì´ ê³¼ì •ì€ O(1)ì˜ ì‹œê°„ë³µìž¡ë„ë¥¼ ê°€ì§€ë„ë¡ êµ¬í˜„ë˜ì–´ ìžˆë‹¤.) Static Dispatchë³´ë‹¤ ì„±ëŠ¥ìƒì—ì„œ ì†í•´ë¥¼ ë³´ê²Œ ëœë‹¤ëŠ” ë‹¨ì ì´ ìžˆë‹¤.

- Swiftì—ì„œëŠ” ì¼ë°˜ì ìœ¼ë¡œ Dynamic Dispatchë¥¼ ì±„íƒí•˜ì˜€ë‹¤. ì¼ë°˜ì ì¸ ê²½ìš°ì—ëŠ” Dynamic Dispatchê°€ íŽ¸ë¦¬í•˜ê¸´ í•˜ì§€ë§Œ, ì„±ëŠ¥ì„ ì‹ ê²½ì¨ì•¼ í•˜ëŠ” ì½”ë“œì—ì„œëŠ” Dynamic Dispatchì˜ ì˜¤ë²„í—¤ë“œë„ ê±°ìŠ¬ë¦´ ìˆ˜ ìžˆë‹¤. ë˜í•œ, Dynamic Dispatchì˜ ê°€ëŠ¥ì„±ì´ ìžˆëŠ” ì½”ë“œì—ì„œëŠ” ì»´íŒŒì¼ëŸ¬ì˜ ìµœì í™”ê°€ ì œí•œë˜ì–´ë²„ë¦°ë‹¤. ë”°ë¼ì„œ, SwiftëŠ” Dynamic Dispatchê°€ í•„ìš”í•˜ì§€ ì•Šì„ ê²½ìš°ì— ì‚¬ìš©í•  ìˆ˜ ìžˆëŠ” 3ê°€ì§€ì˜ ì„±ëŠ¥ ìµœì í™” ë°©ë²•ì„ ì œì‹œí•œë‹¤. 

1. Final í‚¤ì›Œë“œ

- ì˜¤ë²„ë¼ì´ë“œ ë  í•„ìš”ê°€ ì—†ëŠ” ìš”ì†Œë“¤ì€ í•´ë‹¹ í‚¤ì›Œë“œë¥¼ ë¶™ì¸ë‹¤. 
- final í‚¤ì›Œë“œë¥¼ ë¶™ì—¬ì„œ ì„ ì–¸ëœ í´ëž˜ìŠ¤, ë©”ì„œë“œ, í”„ë¡œí¼í‹°ëŠ” ì˜¤ë²„ë¼ì´ë“œ í•  ìˆ˜ ì—†ê²Œ ëœë‹¤. ì´ë ‡ê²Œ ë˜ë©´ ì»´íŒŒì¼ëŸ¬ëŠ” Dynamic Dispatchë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ë¨ì„ ì•Œê³  ì´ ë¶€ë¶„ì„ ìµœì í™” í•´ì¤„ ìˆ˜ ìžˆê²Œ ë©ë‹ˆë‹¤.


2. Private

- private í‚¤ì›Œë“œë¥¼ ë¶™ì—¬ì„œ ì„ ì–¸í•˜ê²Œ ë˜ë©´ í•´ë‹¹ ìš”ì†ŒëŠ” í•œ íŒŒì¼ ë‚´ì—ì„œë§Œ ì°¸ì¡°ë˜ëŠ” ê²ƒì´ ìžë™ìœ¼ë¡œ ë³´ìž¥ëœë‹¤. ë”°ë¼ì„œ í•œ íŒŒì¼ë‚´ì— í•´ë‹¹ ìš”ì†Œì— ëŒ€í•œ ì˜¤ë²„ë¼ì´ë“œê°€ ì—†ëŠ” ê²½ìš° ì»´íŒŒì¼ëŸ¬ê°€ ì´ë¥¼ ìžë™ìœ¼ë¡œ Static Dispatchë¡œ ë°”ê¿”ì¤„ ìˆ˜ ìžˆë‹¤.


3. Whole Module Optimization

- internal ì„ ì–¸ë§Œìœ¼ë¡œ finalì„ ì¶”ë¡ í•´ë‚¼ ìˆ˜ ìžˆë‹¤.(ë¬¼ë¡  ëª¨ë“ˆ ë‚´ì— ì˜¤ë²„ë¼ì´ë“œê°€ ì—†ëŠ” ê²½ìš°ì—ì„œë§Œ.)
- SwiftëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“ˆì„ ì´ë£¨ëŠ” íŒŒì¼ë“¤ì„ ê°œë³„ì ìœ¼ë¡œ ì»´íŒŒì¼ í•˜ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ íŒŒì¼ì—ì„œ ì˜¤ë²„ë¼ì´ë”©ì´ ì¼ì–´ë‚¬ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ WMOë¥¼ í™œì„±í™”í•˜ë©´ ëª¨ë“ˆ ì „ì²´ê°€ í•˜ë‚˜ì˜ ë©ì–´ë¦¬ë¡œ ì·¨ê¸‰ë˜ì–´ ì»´íŒŒì¼ ë˜ê¸° ë•Œë¬¸ì— ì´ë¥¼ í™•ì¸í•˜ê³  ë” ê°•ë ¥í•œ ì¶”ë¡ ì„ í•  ìˆ˜ ìžˆê²Œ ëœë‹¤. ì´ëŠ” ëª¨ë“ˆ ë‚´ì˜ internal ì„ ì–¸ì€ ëª¨ë“ˆ ë°”ê¹¥ì— ë“œëŸ¬ë‚˜ì§€ ì•Šì•„ ì˜¤ë²„ë¼ì´ë”©ì´ ë¶ˆê°€ëŠ¥ í•˜ë‹¤ëŠ” ê²ƒì´ ë³´ìž¥ë˜ê¸° ë•Œë¬¸ì´ë‹¤.

## Convenience initì€?

- Classê°€ ì •ì˜í•  ìˆ˜ ìžˆëŠ” ë³´ì¡° ì´ë‹ˆì…œë¼ì´ì €ì´ë‹¤. í´ëž˜ìŠ¤ì˜ ëª¨ë“  ì €ìž¥ í”„ë¡œí¼í‹°ëŠ” ì´ˆê¸°ê°’ì„ ë°›ê¸° ìœ„í•´ ì§€ì • ì´ë‹ˆì…”ë¼ì´ì €ì™€ íŽ¸ì˜ ì´ë‹ˆì…”ë¼ì´ì ¸ë¥¼ ì •ì˜í•´ì•¼ í•œë‹¤.
- í•„ìš”í•˜ì§€ ì•Šìœ¼ë©´ ì •ì˜í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

## Static Dispatch, Dynamic Dispatchì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”

- Dispatchëž€ ì–´ë–¤ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ê²ƒì¸ì§€ë¥¼ ê²°ì •í•˜ê³  ì‹¤í–‰í•˜ëŠ” ë§¤ì»¤ë‹ˆì¦˜ì´ë‹¤.

### Static Dispatch
- Static DispatchëŠ” ì»´íŒŒì¼ íƒ€ìž„ì— ì‹¤ì œ í˜¸ì¶œí•  í•¨ìˆ˜ë¥¼ ê²°ì •í•  ìˆ˜ ìžˆê¸° ë•Œë¬¸ì— í•¨ìˆ˜ í˜¸ì¶œ ê³¼ì •ì´ ê°„ë‹¨í•˜ê³ , ì»´íŒŒì¼ëŸ¬ê°€ ì´ë¥¼ ìµœì í™”í•  ì—¬ì§€ê°€ ë§ŽìŠµë‹ˆë‹¤. ì¦‰, ì†ë„ê°€ ë¹ ë¥´ë‹¤ëŠ” ìž¥ì ì´ ìžˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, ì°¸ì¡° íƒ€ìž…ì— ë”°ë¼ í˜¸ì¶œë  í•¨ìˆ˜ê°€ ê²°ì •ë˜ê¸° ë•Œë¬¸ì— ì„œë¸Œí´ëž˜ì‹±ì˜ ìž¥ì ì„ ëˆ„ë¦¬ê¸°ëŠ” ì–´ë µìŠµë‹ˆë‹¤.

>  ì„œë¸Œí´ëž˜ì‹±ì€ í´ëž˜ìŠ¤ ê°„ì— ìƒì† ê´€ê³„ë¥¼ í†µí•´ ê¸°ì¡´ í´ëž˜ìŠ¤ë¥¼ í™•ìž¥í•˜ê³ , ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì—¬ ì½”ë“œ ìž¬ì‚¬ìš©ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ í–¥ìƒ ì‹œí‚¤ëŠ” ë°©ë²•ìž…ë‹ˆë‹¤. í•˜ì§€ë§Œ, Static Dispatchë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, ì»´íŒŒì¼ íƒ€ìž„ì— í•¨ìˆ˜ í˜¸ì¶œì— í•„ìš”í•œ ì •ë³´ê°€ ê²°ì •ë˜ê¸° ë•Œë¬¸ì—, í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œ ê°ì²´ì˜ ì‹¤ì œ íƒ€ìž…ì„ ê³ ë ¤í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, ì„œë¸Œí´ëž˜ì‹± ê´€ê³„ë¥¼ í™œìš©í•˜ì—¬ ê°ì²´ì˜ ë™ì ì¸ íŠ¹ì„±ì„ í™œìš©í•˜ëŠ” ê²ƒì´ ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤. 

> ì˜ˆë¥¼ ë“¤ì–´, ë§Œì•½ ì—¬ëŸ¬ í´ëž˜ìŠ¤ì—ì„œ ìƒì†ë°›ì€ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì•¼ í•˜ëŠ” ê²½ìš°, Static Dispatchë¥¼ ì‚¬ìš©í•˜ë©´ ê·¸ ë©”ì„œë“œê°€ í˜¸ì¶œë  ë•Œ ê°ì²´ì˜ ì‹¤ì œ íƒ€ìž…ì´ ì•„ë‹Œ ì°¸ì¡° íƒ€ìž…ì„ ê¸°ë°˜ìœ¼ë¡œ í˜¸ì¶œë©ë‹ˆë‹¤. ìƒì†ë°›ì€ ë©”ì„œë“œê°€ ì„œë¸Œí´ë ˆìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë”©ì´ ëœ ê²½ìš°, ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì–»ì§€ ëª»í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. 
>
> ë”°ë¼ì„œ, Static Dispatchë¥¼ ì‚¬ìš©í•˜ë©´ ì„±ëŠ¥ì´ í–¥ìƒë˜ëŠ” ëŒ€ì‹ , ì„œë¸Œí´ëž˜ìŠ¤ì˜ ìž¥ì ì„ ì œëŒ€ë¡œ í™œìš©í•˜ê¸° ì–´ë µë‹¤ëŠ” ê²ƒì´ì£ .

- Dynamic DispatchëŠ” ëŸ°íƒ€ìž„ì— í˜¸ì¶œë  í•¨ìˆ˜ë¥¼ ê²°ì •í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ì„œ Swiftì—ì„œëŠ” í´ëž˜ìŠ¤ë§ˆë‹¤ vtable(Virtual Dispatch Table)ì´ë¼ëŠ” ê²ƒì„ ìœ ì§€í•©ë‹ˆë‹¤. ì´ëŠ” í•¨ìˆ˜ í¬ì¸í„°ë“¤ì˜ ë°°ì—´ë¡œ í‘œí˜„ë˜ë©°, í•˜ìœ„ í´ëž˜ìŠ¤ê°€ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•  ë•Œ ì´ ë°°ì—´ì„ ì°¸ì¡°í•˜ì—¬ ì‹¤ì œ í˜¸ì¶œí•  í•¨ìˆ˜ë¥¼ ê²°ì •í•©ë‹ˆë‹¤. ì´ ëª¨ë“  ê³¼ì •ì´ ëŸ°íƒ€ìž„ì— ê²°ì •ë˜ê¸° ë•Œë¬¸ì— Static Dispatchì— ë¹„í•˜ë©´ ì¶”ê°€ì ì¸ ì—°ì‚°ì´ í•„ìš”í•  ìˆ˜ ë°–ì— ì—†ê³ , ì»´íŒŒì¼ëŸ¬ê°€ ìµœì í™” í•  ì—¬ì§€ë„ ë§Žì§€ ì•ŠìŠµë‹ˆë‹¤. 

### Dynamic Dispatch

-  Dispatchëž€ ì–´ë–¤ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ê²ƒì¸ì§€ë¥¼ ê²°ì •í•˜ì—¬, ê·¸ê²ƒì„ ì‹¤í–‰í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ì´ë‹¤

- ë‚´ê°€ í˜¸ì¶œí•  í•¨ìˆ˜ë¥¼ "ì»´íŒŒì¼ íƒ€ìž„"ì— ê²°ì •í•˜ëƒ, "ëŸ°íƒ€ìž„"ì— ê²°ì •í•˜ëƒì— ë”°ë¥¸ ë°©ì‹ìž„ 

### Value Typeì—ì„œì˜ Dispatch

- Value Typeì— í•´ë‹¹í•˜ëŠ” structì™€ enumì€ ìƒì†ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ëŠ” íŠ¹ì§•ì„ ê°€ì§€ê³  ìžˆìŠµë‹ˆë‹¤. ì¦‰, static Dispatchì˜ ë‹¨ì ì¸ ì„œë¸Œí´ëž˜ì‹±ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ëŠ” ë‹¨ì ì„ ì™„ë²½ížˆ í”¼í•´ê°‘ë‹ˆë‹¤. ë”°ë¼ì„œ, Value Typeì—ëŠ” Static Dispatchê°€ ì ìš©ë©ë‹ˆë‹¤. 

```swift 
struct someStruct: someProtocol {
    func action() -> Int {
        return 1 
    }   
}

let s = someStruct()

print(s.action()) // 1

```

### Reference Typeì—ì„œì˜ Dispatch

- Reference Typeì— í•´ë‹¹í•˜ëŠ” classëŠ” ë°˜ëŒ€ë¡œ í•­ìƒ ìƒì†ì˜ ê°€ëŠ¥ì„±ì— ë…¸ì¶œë˜ì–´ ìž‡ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ Dynamic Dispatchë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ê·¸ ëŒ€ì‹  ì˜¤ë²„ë¼ì´ë”©ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì„ ì»´íŒŒì¼ëŸ¬ê°€ ì•Œ ìˆ˜ ìžˆë‹¤ë©´, ì»´íŒŒì¼ëŸ¬ê°€ ì´ë¥¼ Static Dispatchë¡œ ë°”ê¿”ì¤„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

```swift
 class SomeClass{
  func action() -> Int { 2 }
  }

  class DerivedClass: SomeClass {
      override func action() -> Int { 3 }
  }

  var c:SomeClass = SomeClass()
  print(c.action()) // 2

  c = DerivedClass()
  print(c.action()) // 3
```

### Protocolì—ì„  method Dispatch

- í”„ë¡œí† ì½œì€ ê¸°ë³¸ì ìœ¼ë¡œ êµ¬í˜„ì²´ë¥¼ ì œê³µí•˜ì§€ ì•Šì•„ë„ ì„ ì–¸ë¶€ë§Œ ì„ ì–¸í•œë‹¤. ë”°ë¼ì„œ í”„ë¡œí† ì½œì„ ì±„íƒí•œ íƒ€ìž…ì€ ì´ë¥¼ êµ¬í˜„í•´ì•¼ í•˜ë©°, í”„ë¡œí† ì½œì„ í†µí•´ í˜¸ì¶œí•˜ëŠ” ë©”ì„œë“œëŠ” í”„ë¡œí† ì½œì„ ì±„íƒí•œ íƒ€ìž…ë“¤ì´ ì‹¤ì œë¡œ êµ¬í˜„í•œ ë©”ì„œë“œë“¤ì´ë‹¤. ê·¸ëŸ°ë° í”„ë¡œí† ì½œ íƒ€ìž…ì˜ ì°¸ì¡°ë§Œìœ¼ë¡œ ì´ë“¤ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤ë©´, í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ì˜ íƒ€ìž…ì— ë§žëŠ” ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì•¼ í•  ê²ƒì´ë‹¤. ì´ë¥¼ ìœ„í•´, í”„ë¡œí† ì½œì€ ê³ ìœ ì˜ vTableì„ ê°€ì§€ê²Œ ë˜ë©°, íŠ¹ë³„ížˆ ì´ë¥¼ Witness Tableì´ë¼ê³  í•œë‹¤. ì¦‰, í”„ë¡œí† ì½œ ì—­ì‹œ Dynamic Dispatchë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.


```swift 
  protocol SomeProtocol {
  func action() -> Int
  }

  class SomeClass: SomeProtocol {
  func action() -> Int { 2 }
  }

  class DerivedClass: SomeClass {
      override func action() -> Int { 3 }
  }

  var c:SomeProtocol = SomeClass()
  print(c.action())

  c = DerivedClass()
  print(c.action())

```

### Extensionì—ì„œ Dispatch


1. ê°’ íƒ€ìž…: ìƒì† ê°€ëŠ¥ì„±ì´ ì—†ê¸° ë•Œë¬¸ì— Static Dispatchë¡œ ìˆ˜í–‰ëœë‹¤.
```swift 
  struct SomeStruct: SomeProtocol {
      func action() -> Int { 1 }
  }

  extension SomeStruct {
      func anotherAction() -> Int { 4 }
  }  

  let s = SomeStruct()

  print(s.action()) // 1
  print(s.anotherAction()) // 4      

```

2. í´ëž˜ìŠ¤ íƒ€ìž…: extensionìœ¼ë¡œ í´ëž˜ìŠ¤ì— ì¶”ê°€ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ê²½ìš°ì— OverrideëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê·œì¹™ì„ ë”°ë¥¸ë‹¤. 
    - í•˜ìœ„ ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•˜ëŠ” ê²½ìš°: ê¸°ë³¸ì ìœ¼ë¡œ extensionì—ì„œëŠ” ë©”ì„œë“œ ì˜¤ë²„ë¼ì´ë“œë¥¼ ê¸ˆì§€í•œë‹¤. ì´ëŠ” í´ëž˜ìŠ¤ ë³¸ì²´ì— ì„ ì–¸ëœ ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•˜ëŠ” ê²ƒê³¼ extensionì—ì„œ ì„ ì–¸ëœ ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•˜ëŠ” ê²ƒì„ ëª¨ë‘ í¬í•¨í•œë‹¤. ì´ëŸ¬í•œ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ”, Objective-C ëŸ°íƒ€ìž„ì˜ íž˜ì„ ë¹Œë ¤ì•¼ í•œë‹¤. 
    - ì˜¤ë²„ë¼ì´ë“œ í•˜ê±°ë‚˜, ì˜¤ë²„ë¼ì´ë“œ ë˜ì§€ ì•ŠëŠ” ê²½ìš°: ìžê¸° ìžì‹  ë¿ ì•„ë‹ˆë¼ í•˜ìœ„ íƒ€ìž…ì—ì„œë„ ë™ì¼í•œ ë©”ì„œë“œë¥¼ ì°¸ì¡°í•¨ì„ ë³´ìž¥í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ í´ëž˜ìŠ¤ íƒ€ìž…ì´ì—¬ë„ Static Dispatchê°€ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤. 

```swift 
  class SomeClass {
  func action() -> Int { 2 }
  }

  class DerivedClass: SomeClass {
      override func action() -> Int { 3 }
  }

  extension SomeClass {
      func anotherAction() -> Int { 5 }
  }  

  var c:SomeClass = SomeClass()
  print(c.anotherAction())// 5

  c = DerivedClass()
  print(c.anotherAction())// 5

```

3. í”„ë¡œí† ì½œ íƒ€ìž…: í”„ë¡œí† ì½œ ì—­ì‹œ extensionì„ í†µí•´ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì´ ë•Œ, í”„ë¡œí† ì½œ ë³¸ì²´ì— ì„ ì–¸ëœ ë©¤ë²„ì˜ ë””í´íŠ¸ êµ¬í˜„ì²´ë¥¼ ì œê³µí•´ì£¼ê±°ë‚˜ í”„ë¡œí† ì½œ ë³¸ì²´ì—ëŠ” ì—†ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€ì ìœ¼ë¡œ ì œê³µí•´ ì¤„ ìˆ˜ ë„ ìžˆìŠµë‹ˆë‹¤.
  - ë³¸ì²´ì— ì„ ì–¸ëœ ë©¤ë²„ì˜ ë””í´íŠ¸ êµ¬í˜„ì²´ë¥¼ ì œê³µí•˜ëŠ” ê²½ìš°: í•˜ìœ„ í´ëž˜ìŠ¤ë“¤ì´ ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ê³  ìž‡ìŒì´ ë°˜ë“œì‹œ ë³´ìž¥ë©ë‹ˆë‹¤. ì„¤ë ¹ êµ¬í˜„í•˜ì§€ ì•Šì•˜ë‹¤ í•˜ë”ë¼ë„ ë””í´íŠ¸ ë©”ì„œë“œë¥¼ ì´ìš©í•˜ë©´ ë©ë‹ˆë‹¤. ë”°ë¼ì„œ Witness Tableì„ ì´ìš©í•œ Dynamic Dispatchê°€ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤. 

```swift 
protocol SomeProtocol {
    func action() -> Int
}

extension SomeProtocol {
    func action() -> Int {
        return 4
    }
}

class SomeClass: SomeProtocol {
    func action() -> Int {
        return 2
    }
}

class DerivedClass: SomeClass {
    override func action() -> Int {
        return 3
    }
}

var c: SomeProtocol = SomeClass()
print(c.action()) // 2

c = DerivedClass()
print(c.action()) // 3

``` 
  - ë³¸ì²´ì— ì—†ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í•œ ê²½ìš°: ë³¸ì²´ì— ì„ ì–¸í•˜ì§€ ì•Šê³  extensionìœ¼ë¡œ ì¶”ê°€í•œ ë©”ì„œë“œë“¤ì€ Witness Tableì„ ì´ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì¦‰, Dynamic Dispatchë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê³ , Static Dispatchê°€ ì ìš©ë©ë‹ˆë‹¤. 

```swift 
protocol SomeProtocol {}

extension SomeProtocol {
    func action() -> Int {
        return 4
    }
}

class SomeClass: SomeProtocol {
    func action() -> Int {
        return 2
    }
}

class DerivedClass: SomeClass {
    override func action() -> Int {
        return 3
    }
}

var c: SomeProtocol = SomeClass()
print(c.action()) // 4

c = DerivedClass()
print(c.action()) // 4
```
