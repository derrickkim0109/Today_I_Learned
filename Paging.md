<h1><center> Paging </center></h1>

###### tags: `💻 TIL`, `Operation System`, `Computer Science`
###### date: `2024-02-03T15:12:33.284Z`

> [color=#724cd1][name=데릭]
> [Paging - 위키백과](https://ko.wikipedia.org/wiki/%ED%8E%98%EC%9D%B4%EC%A7%95)
> [Nossi.DEV](https://www.nossi.dev/4d5bbb94-b5ec-426b-bdf3-be29dbea928d)

## Paging

> 페이징 기법은 컴퓨터가 메인 메모리에서 사용하기 위해 2차 기억 장치로부터 데이터를 저장하고 검색하는 메모리 관리 기법이다. 즉, 가상기억장치를 모두 같은 크기의 블록으로 편성하여 운용하는 기법이다. 이때의 일정한 크기를 가진 블록을 페이지(page)라 한다. 주소공간을 페이지 단위로 나누고 실제기억공간은 페이지 크기와 같은 프레임으로 나누어 사용한다.

프로세스의 메모리 공간을 동일한 크기의 페이지 단위로 나누어 물리적 메모리의 서로 다른 위치에 페이지들을 저장하는 메모리 기법이다. 페이징 기법에서는 물리적 메모리를 페이지와 같은 크기의 프레임으로 미리 나누어둔다. 

페이징 기법에서는 주소 바인딩을 위해 모든 프로세스가 각각의 주소 변환을 위한 페이지 테이블을 갖는다.

![image](https://hackmd.io/_uploads/HkAYiojq6.png)

![image](https://hackmd.io/_uploads/rk7coos9p.png)


**NOTE**

- 논리적 주소: 프로세스가 메모리에 적재되기 위한 독자적인 주소 공간인 논리적 주소가 생성된다. 논리적 주소는 각 프로세스마다 독립적으로 할당되며, 0번지부터 시작된다. 
- 물리적 주소: 프로세스가 실제로 메모리에 적재되는 위치를 말한다. 
- 주소 바인딩: CPU가 기계어 명령을 수행하기 위해 프로세스의 논리적 주소가 실제 물리적 메모리의 어느 위치에 맵핑되는지 확인하는 과정이다.

### Frame & Page

> 프레임과 페이지는 메모리를 일정한 크기의 공간으로 나누어 관리하는 단위이며, 프레임과 페이지의 크기는 같다. 

- 프레임: 물리 메모리를 일정한 크기로 나눈 블록이다.
- 페이지: 가상 메모리를 일정한 크키로 나눈 블록이다. 

페이지가 하나의 프레임을 할당 받으면, 물리 메모리에 위치하게 된다. 프레임을 할당 받지 못한 페이지들은 외부 저장장치에 저장되며, 이때도 프레임과 같은 크기 단위로 관리된다. 

### Page Table

페이지 테이블은 프로세스의 페이지 정보를 저장하고, 하나의 프로세스는 하나의 페이지 테이블을 가진다. 

**테이블 구성요소**

- 색인: 페이지 번호
- 내용: 해당 페이지에 할당된 물리 메모리(프레임)이 시작 주소, 이 시작 주소와 페이지 주소를 결합하여 물리 메모리 주소를 알 수 있다. 

### 페이징 기법 사용시 발생할 수 있는 메모리 단편화 문제에 대해 설명해라.

메모리 단편화는 물리적인 메모리의 여유 공간이 분산되어 사용하지 못하는 상태를 나타낸다.

- 외부 단편화(External Fragmentation): 여러 개의 작은 공간이 있지만, 하나로 합쳐서 큰 연속된 공간으로는 사용될 수 없는 경우를 의미한다. 페이징에서는 각 페이지가 독립적으로 할당되기 때문에 발생하는 현상으로, 할당된 페이지들 사이의 여유 공간이 조각나면서 메모리가 낭비된다.
- 내부 단편화(Internal Fragmentation): 할당된 메모리 영역 내에서 일부 공간이 사용되지 않고 남아 있는 경우를 말한다. 페이징에서는 각 페이지가 고정 크기로 할당되기 때문에 마지막 페이지가 전부 사용되지 않는 경우 등이 내부 단편화로 이어질 수 있다. 

**외부 단편화 해결 방법**

- 페이지 스왑(Page Swapping): 페페이지 스왑을 통해 메모리에 올라가 있는 페이지 중 일부를 디스크로 내보내고 필요한 페이지를 디스크에서 메모리로 불러오는 방식으로 외부 단편화를 감소시킬 수 있다. 
- 컴팩션(Compaction): 주기적으로 메모리를 검사하고, 연속된 여유 공간을 찾아 합치는 방식이다. 이 방법은 오버헤드가 크고, 모든 프로세스를 중지해야 할 수 있어서 현실적이지 않다. 

**내부 단편화 해결 방법**

- 가변 크기 페이지 할당(Variable-Sized Page Allocation): 페이지의 크기를 프로세스의 요구에 따라 동적으로 조절하여 내부 단편화를 최소화할 수 있다. 
- 페이지의 남은 공간 활용: 페이지 내에서 남은 공간을 작은 블록 단위로 세분화하여 활용하는 방법이 있다. 
