<h1><center> Segmentation </center></h1>

###### tags: `💻 TIL`, `Comptuer Science`, `Operation System`
###### date: `2024-02-01T15:12:33.284Z`

> [color=#724cd1][name=데릭]
> [Nossi.DEV](https://www.nossi.dev/67c13b13-664b-4cea-9d70-90d672c6b719)

> 

## Segmentation

![image](https://hackmd.io/_uploads/rybYqd296.png)

> 메모리 관리 기법 중 하나로, 주기억 장치를 논리적으로 나누어 여러 세그먼트로 구성한다. 그 후 프로세스에 메모리를 할당하는 방법이다. 

> 이는 세그먼트라 불리는 논리적인 블록 단위로 메모리를 관리함으로써, 프로세스의 데이터 및 코드를 분리하고 보다 유연하게 메모리를 사용할 수 있도록 한다. 

일반적으로 프로세스의 메모리 영역 중 Code, Data, Stack, Heap 등의 기능 단위로 Segment를 정의하는 경우가 많다.

세그멘테이션 기법에서는 주소 바인딩(address binding)을 위해 모든 프로세스가 각각의 주소 변환을 위한 segment table을 가진다.

**NOTE**

> 주소 바인딩: 프로그램이 적재되는 물리적 메모리의 주소가 결정되는 시기에 따라 3 가지로 분류한다. 컴파일 타임 바인딩, 로드 타임 바인딩, 실행시간 바인딩 

**특징**

- 세그먼트의 분리: 프로세스의 논리적인 부분(코드 세그먼트, 데이터 세그먼트, 스택 세그먼트 등)을 세그먼트로 나눈다. 
- 논리적 단위 할당: 각 세그먼트는 논리적으로 독립적인 단위로 존재하며, 프로세스의 다양한 부분을 나타낸다.
- 외부 단편화 문제: 세그멘테이션은 외부 단편화가 발생할 수 있다. 여러 세그먼트가 메모리에 흩어져 할당되면, 작은 빈 공간들이 발생하고 이를 활용하지 못하는 외부 단편화 문제가 발생할 수 있다. 

세그멘테이션은 페이징과 함께 사용되기도 하며, 세그먼트 테이블이라는 자료구조를 통해 각 세그먼트의 정보를 관리한다.

## Paging과 Segmentation의 차이는?

**단위**

- 페이징: 페이지라 불리는 고정 크기의 블록으로 메모리를 관리한다. 물리적인 메모리와 가상 메모리를 페이지 단위로 나누어 관리.
- 세그멘테이션: 세그먼트로 불리는 논리적인 블록으로 메모리를 관리한다. 물리적인 메모리와 가상 메모리를 세그먼트 단위로 나누어 관리

**크기 변동**

- 페이지: 페이지 크기는 고정되어 있으며, 일반적으로 4KB, 8KB와 같은 작은 크기.
- 세그멘테이션: 세그먼트의 크기는 가변적이며, 서로 다른 세그먼트는 다양한 크기를 가질 수 있다. 

**외부 단편화**

- 둘 다 외부 단편화가 발생할 수 있다.

**구현 복잡성**

- 페이지: 구현이 비교적 간단하고, 외부 단편화가 제어되기 쉽다.
- 세그멘테이션: 세그먼트의 크기가 가변적이라 구현이 더 복잡할 수 있음

**메모리 할당 방식**

- 페이지: 페이지는 물리적인 주소에 연속적으로 할당된다.
- 세그멘테이션: 세그먼트는 논리적인 주소에 연속적으로 할당되지 않을 수 있따.

## Paged Segmentation기법은?

페이징과 세그멘테이션을 조합한 기법으로, 세그먼트가 페이지로 나누어져 메모리를 관리하느 ㄴ방법이다. 

이 기법은 세그먼트와 페이지의 이점을 결합하여 메모리 관리의 유연성과 효율성을 높이기 위해 사용된다. 

각 세그먼트가 페이지로 나누어지고, 각 페이지는 고정된 크기를 가진다. 이로써 세그멘테이션의 유연성과 페이징의 외부 단편화 문제를 어느정도 해결할 수 있다. 그리고 Paged Segmentation은 세그먼트 테이블과 페이지 테이블 두 가지를 사용해 메모리 주소 변환을 수행한다.